{template '_header'}
<script src="https://cdn.bootcss.com/angular.js/1.6.9/angular.min.js"></script>
<script src="{MODULE_URL}/plugin/open_farm/static/web/js/base.js"></script>
<script src="{MODULE_URL}/plugin/open_farm/static/web/js/mood.js"></script>
<div class="page-header">
    当前位置：<span class="text-primary">心情管理</span>
</div>
<div class="page-content" ng-app="mood_app" ng-controller="mood_controller">
    <div class="alert alert-primary">
        <p>说明:</p>
        <p>1. 心情背景大小必须为 580*1032 ! ! ! </p>
        <p>2. 心情照片大小必须为 526*271 ! ! ! </p>
        <p>3. 大小若与规定不同则生成的心情卡会产生位移错乱等极为不美观的效果,请谨慎上传 ! ! ! </p>
    </div>
    <div class="box box-info">
        <form class="form-horizontal">
            <div class="box-body">
                <!--<div class="form-group">-->
                    <!--<label for="logo" class="col-sm-2 control-label">心情图标</label>-->
                    <!--&lt;!&ndash; <input type="text" class="form-control" ng-model="data.mood_info.logo" placeholder="心情图标"> &ndash;&gt;-->
                    <!--<div class="col-sm-10">-->
                        <!--<div class="input-group">-->
                            <!--<input type="text" name="logo" id="logo-img" class="form-control" autocomplete="off" filename="icon.jpg" url="{{data.mood_info.logo}}" ng-model="data.mood_info.logo" >-->
                            <!--<span class="input-group-btn">-->
                                <!--<button id="logo" class="btn btn-default" type="button" onclick="showImageDialog(this);">选择图片</button>-->
                            <!--</span>-->
                        <!--</div>-->
                        <!--<div class="input-group" style="margin-top:.5em;">-->
                            <!--<img ng-src="{{data.mood_info.show_logo}}" onerror="this.src='./resource/images/nopic.jpg'; this.title='图片未找到.'" class="img-responsive img-thumbnail" width="150">-->
                            <!--<em class="close" style="position:absolute; top: 0px; right: -14px;" title="删除这张图片" onclick="deleteImage(this)">×</em>-->
                        <!--</div>-->
                    <!--</div>-->
                <!--</div>-->
                <div class="form-group">
                    <label for="background" class="col-sm-2 control-label">心情背景</label>
                    <!-- <input type="text" class="form-control" ng-model="data.mood_info.background" placeholder="心情图标"> -->
                    <div class="col-sm-10">
                        <span class="help-block">注 : 图片大小必须为 580*1032 </span>
                        <div class="input-group">
                            <input type="text" name="background" id="background-img" class="form-control" autocomplete="off" filename="icon.jpg" url="{{data.mood_info.background}}" ng-model="data.mood_info.background" >
                            <span class="input-group-btn">
                                <button id="background" class="btn btn-default" type="button" onclick="showImageDialog(this);">选择图片</button>
                            </span>
                        </div>
                        <div class="input-group" style="margin-top:.5em;">
                            <img ng-src="{{data.mood_info.show_background}}" onerror="this.src='./resource/images/nopic.jpg'; this.title='图片未找到.'" class="img-responsive img-thumbnail" width="150">
                            <em class="close" style="position:absolute; top: 0px; right: -14px;" title="删除这张图片" onclick="deleteImage(this)">×</em>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label">心情照片</label>
                    <div class="col-sm-10">
                        <span class="help-block">注 : 图片大小必须为 526*271 </span>
                        <div class="input-group">
                            <input type="text" class="form-control" readonly="readonly" value="" placeholder="批量上传图片" autocomplete="off">
                            <span class="input-group-btn">
                                <button class="btn btn-default" type="button" onclick="uploadMultiImage(this);">选择图片</button>
                                <input type="hidden" value="picture">
                            </span>
                        </div>
                        <div class="input-group multi-img-details" id="picture_list">
                            <div class="multi-item" ng-repeat="(k, v) in data.mood_info.picture_list">
                                <img onerror="this.src='./resource/images/nopic.jpg'; this.title='图片未找到.'" ng-src="{{v.show_picture}}" class="img-responsive img-thumbnail"/>
                                <input type="hidden" name="picture[]" value="{{v.picture}}">
                                <em class="close" title="删除这张图片" onclick="deleteMultiImage(this)">
                                    ×
                                </em>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group col-sm-12">
                <span>
                    <input type="button" value="提交" style="text-align: center" class="btn btn-primary" ng-click="function.add_info();">
                </span>
            </div>
        </form>
    </div>
</div>
{template '_footer'}